package PracticandoWebScraper;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.net.*;
import java.util.*;
import java.util.stream.Collectors;
import java.util.stream.Stream;




/*

webScraper sirve para poder analizar el contenido de paginas web, 
basicamente es como un robot que analiza y puede descargar o guardar
cierto contenido de las paginas web

*/

public class MainWebScraper {

	public static void main(String[] args) throws IOException {
		// accedemos a la web
        String link = "https://www.bbc.com/";
        // nos guardamos la url
        URL url = new URL (link);
        // ahora establecemos la conexion
        //parseamos el objeto pq son de tipos distintos
        HttpURLConnection conn = (HttpURLConnection) url.openConnection();
        // traemos la cabecera de la web para saber en que formato esta encodeado
        String encoding = conn.getContentEncoding();
        // descargamos la info
        InputStream input = conn.getInputStream(); // conn es conexion
        // ahora pasamos todo el contenido a una variable string
        String resultado = new BufferedReader(new InputStreamReader(input))
        		.lines().collect(Collectors.joining()); // el collectors colecta todo y permite guararlo en un string
        System.out.println(resultado);

	}
}
// aca me quede 41:04 / 5:38:14
